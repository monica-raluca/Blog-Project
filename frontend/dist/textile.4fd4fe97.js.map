{"mappings":"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","sources":["<anon>","node_modules/@codemirror/legacy-modes/mode/textile.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire10c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"fcPuj\", function(module, exports) {\n\n$parcel$export(module.exports, \"textile\", () => $b11fea6e9801c57c$export$db4bdd4fbc06573c);\nvar $b11fea6e9801c57c$var$TOKEN_STYLES = {\n    addition: \"inserted\",\n    attributes: \"propertyName\",\n    bold: \"strong\",\n    cite: \"keyword\",\n    code: \"monospace\",\n    definitionList: \"list\",\n    deletion: \"deleted\",\n    div: \"punctuation\",\n    em: \"emphasis\",\n    footnote: \"variable\",\n    footCite: \"qualifier\",\n    header: \"heading\",\n    html: \"comment\",\n    image: \"atom\",\n    italic: \"emphasis\",\n    link: \"link\",\n    linkDefinition: \"link\",\n    list1: \"list\",\n    list2: \"list.special\",\n    list3: \"list\",\n    notextile: \"string.special\",\n    pre: \"operator\",\n    p: \"content\",\n    quote: \"bracket\",\n    span: \"quote\",\n    specialChar: \"character\",\n    strong: \"strong\",\n    sub: \"content.special\",\n    sup: \"content.special\",\n    table: \"variableName.special\",\n    tableHeading: \"operator\"\n};\nfunction $b11fea6e9801c57c$var$startNewLine(stream, state) {\n    state.mode = $b11fea6e9801c57c$var$Modes.newLayout;\n    state.tableHeading = false;\n    if (state.layoutType === \"definitionList\" && state.spanningLayout && stream.match($b11fea6e9801c57c$var$RE(\"definitionListEnd\"), false)) state.spanningLayout = false;\n}\nfunction $b11fea6e9801c57c$var$handlePhraseModifier(stream, state, ch) {\n    if (ch === \"_\") {\n        if (stream.eat(\"_\")) return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"italic\", /__/, 2);\n        else return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"em\", /_/, 1);\n    }\n    if (ch === \"*\") {\n        if (stream.eat(\"*\")) return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"bold\", /\\*\\*/, 2);\n        return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"strong\", /\\*/, 1);\n    }\n    if (ch === \"[\") {\n        if (stream.match(/\\d+\\]/)) state.footCite = true;\n        return $b11fea6e9801c57c$var$tokenStyles(state);\n    }\n    if (ch === \"(\") {\n        var spec = stream.match(/^(r|tm|c)\\)/);\n        if (spec) return $b11fea6e9801c57c$var$TOKEN_STYLES.specialChar;\n    }\n    if (ch === \"<\" && stream.match(/(\\w+)[^>]+>[^<]+<\\/\\1>/)) return $b11fea6e9801c57c$var$TOKEN_STYLES.html;\n    if (ch === \"?\" && stream.eat(\"?\")) return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"cite\", /\\?\\?/, 2);\n    if (ch === \"=\" && stream.eat(\"=\")) return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"notextile\", /==/, 2);\n    if (ch === \"-\" && !stream.eat(\"-\")) return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"deletion\", /-/, 1);\n    if (ch === \"+\") return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"addition\", /\\+/, 1);\n    if (ch === \"~\") return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"sub\", /~/, 1);\n    if (ch === \"^\") return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"sup\", /\\^/, 1);\n    if (ch === \"%\") return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"span\", /%/, 1);\n    if (ch === \"@\") return $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"code\", /@/, 1);\n    if (ch === \"!\") {\n        var type = $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, \"image\", /(?:\\([^\\)]+\\))?!/, 1);\n        stream.match(/^:\\S+/); // optional Url portion\n        return type;\n    }\n    return $b11fea6e9801c57c$var$tokenStyles(state);\n}\nfunction $b11fea6e9801c57c$var$togglePhraseModifier(stream, state, phraseModifier, closeRE, openSize) {\n    var charBefore = stream.pos > openSize ? stream.string.charAt(stream.pos - openSize - 1) : null;\n    var charAfter = stream.peek();\n    if (state[phraseModifier]) {\n        if ((!charAfter || /\\W/.test(charAfter)) && charBefore && /\\S/.test(charBefore)) {\n            var type = $b11fea6e9801c57c$var$tokenStyles(state);\n            state[phraseModifier] = false;\n            return type;\n        }\n    } else if ((!charBefore || /\\W/.test(charBefore)) && charAfter && /\\S/.test(charAfter) && stream.match(new RegExp(\"^.*\\\\S\" + closeRE.source + \"(?:\\\\W|$)\"), false)) {\n        state[phraseModifier] = true;\n        state.mode = $b11fea6e9801c57c$var$Modes.attributes;\n    }\n    return $b11fea6e9801c57c$var$tokenStyles(state);\n}\nfunction $b11fea6e9801c57c$var$tokenStyles(state) {\n    var disabled = $b11fea6e9801c57c$var$textileDisabled(state);\n    if (disabled) return disabled;\n    var styles = [];\n    if (state.layoutType) styles.push($b11fea6e9801c57c$var$TOKEN_STYLES[state.layoutType]);\n    styles = styles.concat($b11fea6e9801c57c$var$activeStyles(state, \"addition\", \"bold\", \"cite\", \"code\", \"deletion\", \"em\", \"footCite\", \"image\", \"italic\", \"link\", \"span\", \"strong\", \"sub\", \"sup\", \"table\", \"tableHeading\"));\n    if (state.layoutType === \"header\") styles.push($b11fea6e9801c57c$var$TOKEN_STYLES.header + \"-\" + state.header);\n    return styles.length ? styles.join(\" \") : null;\n}\nfunction $b11fea6e9801c57c$var$textileDisabled(state) {\n    var type = state.layoutType;\n    switch(type){\n        case \"notextile\":\n        case \"code\":\n        case \"pre\":\n            return $b11fea6e9801c57c$var$TOKEN_STYLES[type];\n        default:\n            if (state.notextile) return $b11fea6e9801c57c$var$TOKEN_STYLES.notextile + (type ? \" \" + $b11fea6e9801c57c$var$TOKEN_STYLES[type] : \"\");\n            return null;\n    }\n}\nfunction $b11fea6e9801c57c$var$activeStyles(state) {\n    var styles = [];\n    for(var i = 1; i < arguments.length; ++i)if (state[arguments[i]]) styles.push($b11fea6e9801c57c$var$TOKEN_STYLES[arguments[i]]);\n    return styles;\n}\nfunction $b11fea6e9801c57c$var$blankLine(state) {\n    var spanningLayout = state.spanningLayout, type = state.layoutType;\n    for(var key in state)if (state.hasOwnProperty(key)) delete state[key];\n    state.mode = $b11fea6e9801c57c$var$Modes.newLayout;\n    if (spanningLayout) {\n        state.layoutType = type;\n        state.spanningLayout = true;\n    }\n}\nvar $b11fea6e9801c57c$var$REs = {\n    cache: {},\n    single: {\n        bc: \"bc\",\n        bq: \"bq\",\n        definitionList: /- .*?:=+/,\n        definitionListEnd: /.*=:\\s*$/,\n        div: \"div\",\n        drawTable: /\\|.*\\|/,\n        foot: /fn\\d+/,\n        header: /h[1-6]/,\n        html: /\\s*<(?:\\/)?(\\w+)(?:[^>]+)?>(?:[^<]+<\\/\\1>)?/,\n        link: /[^\"]+\":\\S/,\n        linkDefinition: /\\[[^\\s\\]]+\\]\\S+/,\n        list: /(?:#+|\\*+)/,\n        notextile: \"notextile\",\n        para: \"p\",\n        pre: \"pre\",\n        table: \"table\",\n        tableCellAttributes: /[\\/\\\\]\\d+/,\n        tableHeading: /\\|_\\./,\n        tableText: /[^\"_\\*\\[\\(\\?\\+~\\^%@|-]+/,\n        text: /[^!\"_=\\*\\[\\(<\\?\\+~\\^%@-]+/\n    },\n    attributes: {\n        align: /(?:<>|<|>|=)/,\n        selector: /\\([^\\(][^\\)]+\\)/,\n        lang: /\\[[^\\[\\]]+\\]/,\n        pad: /(?:\\(+|\\)+){1,2}/,\n        css: /\\{[^\\}]+\\}/\n    },\n    createRe: function(name) {\n        switch(name){\n            case \"drawTable\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$REs.single.drawTable, \"$\");\n            case \"html\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$REs.single.html, \"(?:\", $b11fea6e9801c57c$var$REs.single.html, \")*\", \"$\");\n            case \"linkDefinition\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$REs.single.linkDefinition, \"$\");\n            case \"listLayout\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$REs.single.list, $b11fea6e9801c57c$var$RE(\"allAttributes\"), \"*\\\\s+\");\n            case \"tableCellAttributes\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$REs.choiceRe($b11fea6e9801c57c$var$REs.single.tableCellAttributes, $b11fea6e9801c57c$var$RE(\"allAttributes\")), \"+\\\\.\");\n            case \"type\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$RE(\"allTypes\"));\n            case \"typeLayout\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$RE(\"allTypes\"), $b11fea6e9801c57c$var$RE(\"allAttributes\"), \"*\\\\.\\\\.?\", \"(\\\\s+|$)\");\n            case \"attributes\":\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$RE(\"allAttributes\"), \"+\");\n            case \"allTypes\":\n                return $b11fea6e9801c57c$var$REs.choiceRe($b11fea6e9801c57c$var$REs.single.div, $b11fea6e9801c57c$var$REs.single.foot, $b11fea6e9801c57c$var$REs.single.header, $b11fea6e9801c57c$var$REs.single.bc, $b11fea6e9801c57c$var$REs.single.bq, $b11fea6e9801c57c$var$REs.single.notextile, $b11fea6e9801c57c$var$REs.single.pre, $b11fea6e9801c57c$var$REs.single.table, $b11fea6e9801c57c$var$REs.single.para);\n            case \"allAttributes\":\n                return $b11fea6e9801c57c$var$REs.choiceRe($b11fea6e9801c57c$var$REs.attributes.selector, $b11fea6e9801c57c$var$REs.attributes.css, $b11fea6e9801c57c$var$REs.attributes.lang, $b11fea6e9801c57c$var$REs.attributes.align, $b11fea6e9801c57c$var$REs.attributes.pad);\n            default:\n                return $b11fea6e9801c57c$var$REs.makeRe(\"^\", $b11fea6e9801c57c$var$REs.single[name]);\n        }\n    },\n    makeRe: function() {\n        var pattern = \"\";\n        for(var i = 0; i < arguments.length; ++i){\n            var arg = arguments[i];\n            pattern += typeof arg === \"string\" ? arg : arg.source;\n        }\n        return new RegExp(pattern);\n    },\n    choiceRe: function() {\n        var parts = [\n            arguments[0]\n        ];\n        for(var i = 1; i < arguments.length; ++i){\n            parts[i * 2 - 1] = \"|\";\n            parts[i * 2] = arguments[i];\n        }\n        parts.unshift(\"(?:\");\n        parts.push(\")\");\n        return $b11fea6e9801c57c$var$REs.makeRe.apply(null, parts);\n    }\n};\nfunction $b11fea6e9801c57c$var$RE(name) {\n    return $b11fea6e9801c57c$var$REs.cache[name] || ($b11fea6e9801c57c$var$REs.cache[name] = $b11fea6e9801c57c$var$REs.createRe(name));\n}\nvar $b11fea6e9801c57c$var$Modes = {\n    newLayout: function(stream, state) {\n        if (stream.match($b11fea6e9801c57c$var$RE(\"typeLayout\"), false)) {\n            state.spanningLayout = false;\n            return (state.mode = $b11fea6e9801c57c$var$Modes.blockType)(stream, state);\n        }\n        var newMode;\n        if (!$b11fea6e9801c57c$var$textileDisabled(state)) {\n            if (stream.match($b11fea6e9801c57c$var$RE(\"listLayout\"), false)) newMode = $b11fea6e9801c57c$var$Modes.list;\n            else if (stream.match($b11fea6e9801c57c$var$RE(\"drawTable\"), false)) newMode = $b11fea6e9801c57c$var$Modes.table;\n            else if (stream.match($b11fea6e9801c57c$var$RE(\"linkDefinition\"), false)) newMode = $b11fea6e9801c57c$var$Modes.linkDefinition;\n            else if (stream.match($b11fea6e9801c57c$var$RE(\"definitionList\"))) newMode = $b11fea6e9801c57c$var$Modes.definitionList;\n            else if (stream.match($b11fea6e9801c57c$var$RE(\"html\"), false)) newMode = $b11fea6e9801c57c$var$Modes.html;\n        }\n        return (state.mode = newMode || $b11fea6e9801c57c$var$Modes.text)(stream, state);\n    },\n    blockType: function(stream, state) {\n        var match, type;\n        state.layoutType = null;\n        if (match = stream.match($b11fea6e9801c57c$var$RE(\"type\"))) type = match[0];\n        else return (state.mode = $b11fea6e9801c57c$var$Modes.text)(stream, state);\n        if (match = type.match($b11fea6e9801c57c$var$RE(\"header\"))) {\n            state.layoutType = \"header\";\n            state.header = parseInt(match[0][1]);\n        } else if (type.match($b11fea6e9801c57c$var$RE(\"bq\"))) state.layoutType = \"quote\";\n        else if (type.match($b11fea6e9801c57c$var$RE(\"bc\"))) state.layoutType = \"code\";\n        else if (type.match($b11fea6e9801c57c$var$RE(\"foot\"))) state.layoutType = \"footnote\";\n        else if (type.match($b11fea6e9801c57c$var$RE(\"notextile\"))) state.layoutType = \"notextile\";\n        else if (type.match($b11fea6e9801c57c$var$RE(\"pre\"))) state.layoutType = \"pre\";\n        else if (type.match($b11fea6e9801c57c$var$RE(\"div\"))) state.layoutType = \"div\";\n        else if (type.match($b11fea6e9801c57c$var$RE(\"table\"))) state.layoutType = \"table\";\n        state.mode = $b11fea6e9801c57c$var$Modes.attributes;\n        return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    text: function(stream, state) {\n        if (stream.match($b11fea6e9801c57c$var$RE(\"text\"))) return $b11fea6e9801c57c$var$tokenStyles(state);\n        var ch = stream.next();\n        if (ch === '\"') return (state.mode = $b11fea6e9801c57c$var$Modes.link)(stream, state);\n        return $b11fea6e9801c57c$var$handlePhraseModifier(stream, state, ch);\n    },\n    attributes: function(stream, state) {\n        state.mode = $b11fea6e9801c57c$var$Modes.layoutLength;\n        if (stream.match($b11fea6e9801c57c$var$RE(\"attributes\"))) return $b11fea6e9801c57c$var$TOKEN_STYLES.attributes;\n        else return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    layoutLength: function(stream, state) {\n        if (stream.eat(\".\") && stream.eat(\".\")) state.spanningLayout = true;\n        state.mode = $b11fea6e9801c57c$var$Modes.text;\n        return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    list: function(stream, state) {\n        var match = stream.match($b11fea6e9801c57c$var$RE(\"list\"));\n        state.listDepth = match[0].length;\n        var listMod = (state.listDepth - 1) % 3;\n        if (!listMod) state.layoutType = \"list1\";\n        else if (listMod === 1) state.layoutType = \"list2\";\n        else state.layoutType = \"list3\";\n        state.mode = $b11fea6e9801c57c$var$Modes.attributes;\n        return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    link: function(stream, state) {\n        state.mode = $b11fea6e9801c57c$var$Modes.text;\n        if (stream.match($b11fea6e9801c57c$var$RE(\"link\"))) {\n            stream.match(/\\S+/);\n            return $b11fea6e9801c57c$var$TOKEN_STYLES.link;\n        }\n        return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    linkDefinition: function(stream) {\n        stream.skipToEnd();\n        return $b11fea6e9801c57c$var$TOKEN_STYLES.linkDefinition;\n    },\n    definitionList: function(stream, state) {\n        stream.match($b11fea6e9801c57c$var$RE(\"definitionList\"));\n        state.layoutType = \"definitionList\";\n        if (stream.match(/\\s*$/)) state.spanningLayout = true;\n        else state.mode = $b11fea6e9801c57c$var$Modes.attributes;\n        return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    html: function(stream) {\n        stream.skipToEnd();\n        return $b11fea6e9801c57c$var$TOKEN_STYLES.html;\n    },\n    table: function(stream, state) {\n        state.layoutType = \"table\";\n        return (state.mode = $b11fea6e9801c57c$var$Modes.tableCell)(stream, state);\n    },\n    tableCell: function(stream, state) {\n        if (stream.match($b11fea6e9801c57c$var$RE(\"tableHeading\"))) state.tableHeading = true;\n        else stream.eat(\"|\");\n        state.mode = $b11fea6e9801c57c$var$Modes.tableCellAttributes;\n        return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    tableCellAttributes: function(stream, state) {\n        state.mode = $b11fea6e9801c57c$var$Modes.tableText;\n        if (stream.match($b11fea6e9801c57c$var$RE(\"tableCellAttributes\"))) return $b11fea6e9801c57c$var$TOKEN_STYLES.attributes;\n        else return $b11fea6e9801c57c$var$tokenStyles(state);\n    },\n    tableText: function(stream, state) {\n        if (stream.match($b11fea6e9801c57c$var$RE(\"tableText\"))) return $b11fea6e9801c57c$var$tokenStyles(state);\n        if (stream.peek() === \"|\") {\n            state.mode = $b11fea6e9801c57c$var$Modes.tableCell;\n            return $b11fea6e9801c57c$var$tokenStyles(state);\n        }\n        return $b11fea6e9801c57c$var$handlePhraseModifier(stream, state, stream.next());\n    }\n};\nconst $b11fea6e9801c57c$export$db4bdd4fbc06573c = {\n    name: \"textile\",\n    startState: function() {\n        return {\n            mode: $b11fea6e9801c57c$var$Modes.newLayout\n        };\n    },\n    token: function(stream, state) {\n        if (stream.sol()) $b11fea6e9801c57c$var$startNewLine(stream, state);\n        return state.mode(stream, state);\n    },\n    blankLine: $b11fea6e9801c57c$var$blankLine\n};\n\n});\n\n\n//# sourceMappingURL=textile.4fd4fe97.js.map\n","var TOKEN_STYLES = {\n  addition: \"inserted\",\n  attributes: \"propertyName\",\n  bold: \"strong\",\n  cite: \"keyword\",\n  code: \"monospace\",\n  definitionList: \"list\",\n  deletion: \"deleted\",\n  div: \"punctuation\",\n  em: \"emphasis\",\n  footnote: \"variable\",\n  footCite: \"qualifier\",\n  header: \"heading\",\n  html: \"comment\",\n  image: \"atom\",\n  italic: \"emphasis\",\n  link: \"link\",\n  linkDefinition: \"link\",\n  list1: \"list\",\n  list2: \"list.special\",\n  list3: \"list\",\n  notextile: \"string.special\",\n  pre: \"operator\",\n  p: \"content\",\n  quote: \"bracket\",\n  span: \"quote\",\n  specialChar: \"character\",\n  strong: \"strong\",\n  sub: \"content.special\",\n  sup: \"content.special\",\n  table: \"variableName.special\",\n  tableHeading: \"operator\"\n};\n\nfunction startNewLine(stream, state) {\n  state.mode = Modes.newLayout;\n  state.tableHeading = false;\n\n  if (state.layoutType === \"definitionList\" && state.spanningLayout &&\n      stream.match(RE(\"definitionListEnd\"), false))\n    state.spanningLayout = false;\n}\n\nfunction handlePhraseModifier(stream, state, ch) {\n  if (ch === \"_\") {\n    if (stream.eat(\"_\"))\n      return togglePhraseModifier(stream, state, \"italic\", /__/, 2);\n    else\n      return togglePhraseModifier(stream, state, \"em\", /_/, 1);\n  }\n\n  if (ch === \"*\") {\n    if (stream.eat(\"*\")) {\n      return togglePhraseModifier(stream, state, \"bold\", /\\*\\*/, 2);\n    }\n    return togglePhraseModifier(stream, state, \"strong\", /\\*/, 1);\n  }\n\n  if (ch === \"[\") {\n    if (stream.match(/\\d+\\]/)) state.footCite = true;\n    return tokenStyles(state);\n  }\n\n  if (ch === \"(\") {\n    var spec = stream.match(/^(r|tm|c)\\)/);\n    if (spec)\n      return TOKEN_STYLES.specialChar\n  }\n\n  if (ch === \"<\" && stream.match(/(\\w+)[^>]+>[^<]+<\\/\\1>/))\n    return TOKEN_STYLES.html\n\n  if (ch === \"?\" && stream.eat(\"?\"))\n    return togglePhraseModifier(stream, state, \"cite\", /\\?\\?/, 2);\n\n  if (ch === \"=\" && stream.eat(\"=\"))\n    return togglePhraseModifier(stream, state, \"notextile\", /==/, 2);\n\n  if (ch === \"-\" && !stream.eat(\"-\"))\n    return togglePhraseModifier(stream, state, \"deletion\", /-/, 1);\n\n  if (ch === \"+\")\n    return togglePhraseModifier(stream, state, \"addition\", /\\+/, 1);\n\n  if (ch === \"~\")\n    return togglePhraseModifier(stream, state, \"sub\", /~/, 1);\n\n  if (ch === \"^\")\n    return togglePhraseModifier(stream, state, \"sup\", /\\^/, 1);\n\n  if (ch === \"%\")\n    return togglePhraseModifier(stream, state, \"span\", /%/, 1);\n\n  if (ch === \"@\")\n    return togglePhraseModifier(stream, state, \"code\", /@/, 1);\n\n  if (ch === \"!\") {\n    var type = togglePhraseModifier(stream, state, \"image\", /(?:\\([^\\)]+\\))?!/, 1);\n    stream.match(/^:\\S+/); // optional Url portion\n    return type;\n  }\n  return tokenStyles(state);\n}\n\nfunction togglePhraseModifier(stream, state, phraseModifier, closeRE, openSize) {\n  var charBefore = stream.pos > openSize ? stream.string.charAt(stream.pos - openSize - 1) : null;\n  var charAfter = stream.peek();\n  if (state[phraseModifier]) {\n    if ((!charAfter || /\\W/.test(charAfter)) && charBefore && /\\S/.test(charBefore)) {\n      var type = tokenStyles(state);\n      state[phraseModifier] = false;\n      return type;\n    }\n  } else if ((!charBefore || /\\W/.test(charBefore)) && charAfter && /\\S/.test(charAfter) &&\n             stream.match(new RegExp(\"^.*\\\\S\" + closeRE.source + \"(?:\\\\W|$)\"), false)) {\n    state[phraseModifier] = true;\n    state.mode = Modes.attributes;\n  }\n  return tokenStyles(state);\n};\n\nfunction tokenStyles(state) {\n  var disabled = textileDisabled(state);\n  if (disabled) return disabled;\n\n  var styles = [];\n  if (state.layoutType) styles.push(TOKEN_STYLES[state.layoutType]);\n\n  styles = styles.concat(activeStyles(\n    state, \"addition\", \"bold\", \"cite\", \"code\", \"deletion\", \"em\", \"footCite\",\n    \"image\", \"italic\", \"link\", \"span\", \"strong\", \"sub\", \"sup\", \"table\", \"tableHeading\"));\n\n  if (state.layoutType === \"header\")\n    styles.push(TOKEN_STYLES.header + \"-\" + state.header);\n\n  return styles.length ? styles.join(\" \") : null;\n}\n\nfunction textileDisabled(state) {\n  var type = state.layoutType;\n\n  switch(type) {\n  case \"notextile\":\n  case \"code\":\n  case \"pre\":\n    return TOKEN_STYLES[type];\n  default:\n    if (state.notextile)\n      return TOKEN_STYLES.notextile + (type ? (\" \" + TOKEN_STYLES[type]) : \"\");\n    return null;\n  }\n}\n\nfunction activeStyles(state) {\n  var styles = [];\n  for (var i = 1; i < arguments.length; ++i) {\n    if (state[arguments[i]])\n      styles.push(TOKEN_STYLES[arguments[i]]);\n  }\n  return styles;\n}\n\nfunction blankLine(state) {\n  var spanningLayout = state.spanningLayout, type = state.layoutType;\n\n  for (var key in state) if (state.hasOwnProperty(key))\n    delete state[key];\n\n  state.mode = Modes.newLayout;\n  if (spanningLayout) {\n    state.layoutType = type;\n    state.spanningLayout = true;\n  }\n}\n\nvar REs = {\n  cache: {},\n  single: {\n    bc: \"bc\",\n    bq: \"bq\",\n    definitionList: /- .*?:=+/,\n    definitionListEnd: /.*=:\\s*$/,\n    div: \"div\",\n    drawTable: /\\|.*\\|/,\n    foot: /fn\\d+/,\n    header: /h[1-6]/,\n    html: /\\s*<(?:\\/)?(\\w+)(?:[^>]+)?>(?:[^<]+<\\/\\1>)?/,\n    link: /[^\"]+\":\\S/,\n    linkDefinition: /\\[[^\\s\\]]+\\]\\S+/,\n    list: /(?:#+|\\*+)/,\n    notextile: \"notextile\",\n    para: \"p\",\n    pre: \"pre\",\n    table: \"table\",\n    tableCellAttributes: /[\\/\\\\]\\d+/,\n    tableHeading: /\\|_\\./,\n    tableText: /[^\"_\\*\\[\\(\\?\\+~\\^%@|-]+/,\n    text: /[^!\"_=\\*\\[\\(<\\?\\+~\\^%@-]+/\n  },\n  attributes: {\n    align: /(?:<>|<|>|=)/,\n    selector: /\\([^\\(][^\\)]+\\)/,\n    lang: /\\[[^\\[\\]]+\\]/,\n    pad: /(?:\\(+|\\)+){1,2}/,\n    css: /\\{[^\\}]+\\}/\n  },\n  createRe: function(name) {\n    switch (name) {\n    case \"drawTable\":\n      return REs.makeRe(\"^\", REs.single.drawTable, \"$\");\n    case \"html\":\n      return REs.makeRe(\"^\", REs.single.html, \"(?:\", REs.single.html, \")*\", \"$\");\n    case \"linkDefinition\":\n      return REs.makeRe(\"^\", REs.single.linkDefinition, \"$\");\n    case \"listLayout\":\n      return REs.makeRe(\"^\", REs.single.list, RE(\"allAttributes\"), \"*\\\\s+\");\n    case \"tableCellAttributes\":\n      return REs.makeRe(\"^\", REs.choiceRe(REs.single.tableCellAttributes,\n                                          RE(\"allAttributes\")), \"+\\\\.\");\n    case \"type\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"));\n    case \"typeLayout\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"), RE(\"allAttributes\"),\n                        \"*\\\\.\\\\.?\", \"(\\\\s+|$)\");\n    case \"attributes\":\n      return REs.makeRe(\"^\", RE(\"allAttributes\"), \"+\");\n\n    case \"allTypes\":\n      return REs.choiceRe(REs.single.div, REs.single.foot,\n                          REs.single.header, REs.single.bc, REs.single.bq,\n                          REs.single.notextile, REs.single.pre, REs.single.table,\n                          REs.single.para);\n\n    case \"allAttributes\":\n      return REs.choiceRe(REs.attributes.selector, REs.attributes.css,\n                          REs.attributes.lang, REs.attributes.align, REs.attributes.pad);\n\n    default:\n      return REs.makeRe(\"^\", REs.single[name]);\n    }\n  },\n  makeRe: function() {\n    var pattern = \"\";\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      pattern += (typeof arg === \"string\") ? arg : arg.source;\n    }\n    return new RegExp(pattern);\n  },\n  choiceRe: function() {\n    var parts = [arguments[0]];\n    for (var i = 1; i < arguments.length; ++i) {\n      parts[i * 2 - 1] = \"|\";\n      parts[i * 2] = arguments[i];\n    }\n\n    parts.unshift(\"(?:\");\n    parts.push(\")\");\n    return REs.makeRe.apply(null, parts);\n  }\n};\n\nfunction RE(name) {\n  return (REs.cache[name] || (REs.cache[name] = REs.createRe(name)));\n}\n\nvar Modes = {\n  newLayout: function(stream, state) {\n    if (stream.match(RE(\"typeLayout\"), false)) {\n      state.spanningLayout = false;\n      return (state.mode = Modes.blockType)(stream, state);\n    }\n    var newMode;\n    if (!textileDisabled(state)) {\n      if (stream.match(RE(\"listLayout\"), false))\n        newMode = Modes.list;\n      else if (stream.match(RE(\"drawTable\"), false))\n        newMode = Modes.table;\n      else if (stream.match(RE(\"linkDefinition\"), false))\n        newMode = Modes.linkDefinition;\n      else if (stream.match(RE(\"definitionList\")))\n        newMode = Modes.definitionList;\n      else if (stream.match(RE(\"html\"), false))\n        newMode = Modes.html;\n    }\n    return (state.mode = (newMode || Modes.text))(stream, state);\n  },\n\n  blockType: function(stream, state) {\n    var match, type;\n    state.layoutType = null;\n\n    if (match = stream.match(RE(\"type\")))\n      type = match[0];\n    else\n      return (state.mode = Modes.text)(stream, state);\n\n    if (match = type.match(RE(\"header\"))) {\n      state.layoutType = \"header\";\n      state.header = parseInt(match[0][1]);\n    } else if (type.match(RE(\"bq\"))) {\n      state.layoutType = \"quote\";\n    } else if (type.match(RE(\"bc\"))) {\n      state.layoutType = \"code\";\n    } else if (type.match(RE(\"foot\"))) {\n      state.layoutType = \"footnote\";\n    } else if (type.match(RE(\"notextile\"))) {\n      state.layoutType = \"notextile\";\n    } else if (type.match(RE(\"pre\"))) {\n      state.layoutType = \"pre\";\n    } else if (type.match(RE(\"div\"))) {\n      state.layoutType = \"div\";\n    } else if (type.match(RE(\"table\"))) {\n      state.layoutType = \"table\";\n    }\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  text: function(stream, state) {\n    if (stream.match(RE(\"text\"))) return tokenStyles(state);\n\n    var ch = stream.next();\n    if (ch === '\"')\n      return (state.mode = Modes.link)(stream, state);\n    return handlePhraseModifier(stream, state, ch);\n  },\n\n  attributes: function(stream, state) {\n    state.mode = Modes.layoutLength;\n\n    if (stream.match(RE(\"attributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  layoutLength: function(stream, state) {\n    if (stream.eat(\".\") && stream.eat(\".\"))\n      state.spanningLayout = true;\n\n    state.mode = Modes.text;\n    return tokenStyles(state);\n  },\n\n  list: function(stream, state) {\n    var match = stream.match(RE(\"list\"));\n    state.listDepth = match[0].length;\n    var listMod = (state.listDepth - 1) % 3;\n    if (!listMod)\n      state.layoutType = \"list1\";\n    else if (listMod === 1)\n      state.layoutType = \"list2\";\n    else\n      state.layoutType = \"list3\";\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  link: function(stream, state) {\n    state.mode = Modes.text;\n    if (stream.match(RE(\"link\"))) {\n      stream.match(/\\S+/);\n      return TOKEN_STYLES.link\n    }\n    return tokenStyles(state);\n  },\n\n  linkDefinition: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.linkDefinition\n  },\n\n  definitionList: function(stream, state) {\n    stream.match(RE(\"definitionList\"));\n\n    state.layoutType = \"definitionList\";\n\n    if (stream.match(/\\s*$/))\n      state.spanningLayout = true;\n    else\n      state.mode = Modes.attributes;\n\n    return tokenStyles(state);\n  },\n\n  html: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.html\n  },\n\n  table: function(stream, state) {\n    state.layoutType = \"table\";\n    return (state.mode = Modes.tableCell)(stream, state);\n  },\n\n  tableCell: function(stream, state) {\n    if (stream.match(RE(\"tableHeading\")))\n      state.tableHeading = true;\n    else\n      stream.eat(\"|\");\n\n    state.mode = Modes.tableCellAttributes;\n    return tokenStyles(state);\n  },\n\n  tableCellAttributes: function(stream, state) {\n    state.mode = Modes.tableText;\n\n    if (stream.match(RE(\"tableCellAttributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  tableText: function(stream, state) {\n    if (stream.match(RE(\"tableText\")))\n      return tokenStyles(state);\n\n    if (stream.peek() === \"|\") { // end of cell\n      state.mode = Modes.tableCell;\n      return tokenStyles(state);\n    }\n    return handlePhraseModifier(stream, state, stream.next());\n  }\n};\n\nexport const textile = {\n  name: \"textile\",\n  startState: function() {\n    return { mode: Modes.newLayout };\n  },\n  token: function(stream, state) {\n    if (stream.sol()) startNewLine(stream, state);\n    return state.mode(stream, state);\n  },\n  blankLine: blankLine\n};\n"],"names":["parcelRequire","$parcel$global","globalThis","register","module","exports","Object","defineProperty","get","$b11fea6e9801c57c$export$db4bdd4fbc06573c","set","s","enumerable","configurable","$b11fea6e9801c57c$var$TOKEN_STYLES","addition","attributes","bold","cite","code","definitionList","deletion","div","em","footnote","footCite","header","html","image","italic","link","linkDefinition","list1","list2","list3","notextile","pre","p","quote","span","specialChar","strong","sub","sup","table","tableHeading","$b11fea6e9801c57c$var$handlePhraseModifier","stream","state","ch","eat","$b11fea6e9801c57c$var$togglePhraseModifier","match","$b11fea6e9801c57c$var$tokenStyles","type","phraseModifier","closeRE","openSize","charBefore","pos","string","charAt","charAfter","peek","test","RegExp","source","mode","$b11fea6e9801c57c$var$Modes","disabled","$b11fea6e9801c57c$var$textileDisabled","styles","layoutType","push","concat","$b11fea6e9801c57c$var$activeStyles","i","arguments","length","join","$b11fea6e9801c57c$var$REs","cache","single","bc","bq","definitionListEnd","drawTable","foot","list","para","tableCellAttributes","tableText","text","align","selector","lang","pad","css","createRe","name","makeRe","$b11fea6e9801c57c$var$RE","choiceRe","pattern","arg","parts","unshift","apply","newLayout","newMode","spanningLayout","blockType","parseInt","next","layoutLength","listDepth","listMod","skipToEnd","tableCell","startState","token","sol","blankLine","key","hasOwnProperty"],"version":3,"file":"textile.4fd4fe97.js.map"}